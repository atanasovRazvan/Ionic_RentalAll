[{"C:\\Users\\Razvan\\Desktop\\Facultate\\Anul_3\\Mobile\\ionic_RentalApp\\src\\index.tsx":"1","C:\\Users\\Razvan\\Desktop\\Facultate\\Anul_3\\Mobile\\ionic_RentalApp\\src\\serviceWorker.ts":"2","C:\\Users\\Razvan\\Desktop\\Facultate\\Anul_3\\Mobile\\ionic_RentalApp\\src\\App.tsx":"3","C:\\Users\\Razvan\\Desktop\\Facultate\\Anul_3\\Mobile\\ionic_RentalApp\\src\\todo\\ItemProvider.tsx":"4","C:\\Users\\Razvan\\Desktop\\Facultate\\Anul_3\\Mobile\\ionic_RentalApp\\src\\todo\\index.tsx":"5","C:\\Users\\Razvan\\Desktop\\Facultate\\Anul_3\\Mobile\\ionic_RentalApp\\src\\auth\\index.tsx":"6","C:\\Users\\Razvan\\Desktop\\Facultate\\Anul_3\\Mobile\\ionic_RentalApp\\src\\todo\\itemApi.tsx":"7","C:\\Users\\Razvan\\Desktop\\Facultate\\Anul_3\\Mobile\\ionic_RentalApp\\src\\auth\\AuthProvider.tsx":"8","C:\\Users\\Razvan\\Desktop\\Facultate\\Anul_3\\Mobile\\ionic_RentalApp\\src\\todo\\ItemEdit.tsx":"9","C:\\Users\\Razvan\\Desktop\\Facultate\\Anul_3\\Mobile\\ionic_RentalApp\\src\\todo\\ItemList.tsx":"10","C:\\Users\\Razvan\\Desktop\\Facultate\\Anul_3\\Mobile\\ionic_RentalApp\\src\\auth\\PrivateRoute.tsx":"11","C:\\Users\\Razvan\\Desktop\\Facultate\\Anul_3\\Mobile\\ionic_RentalApp\\src\\auth\\Login.tsx":"12","C:\\Users\\Razvan\\Desktop\\Facultate\\Anul_3\\Mobile\\ionic_RentalApp\\src\\core\\index.tsx":"13","C:\\Users\\Razvan\\Desktop\\Facultate\\Anul_3\\Mobile\\ionic_RentalApp\\src\\todo\\Item.tsx":"14","C:\\Users\\Razvan\\Desktop\\Facultate\\Anul_3\\Mobile\\ionic_RentalApp\\src\\auth\\AuthApi.tsx":"15"},{"size":430,"mtime":1604492964841,"results":"16","hashOfConfig":"17"},{"size":5213,"mtime":1600535081000,"results":"18","hashOfConfig":"17"},{"size":1617,"mtime":1606838078195,"results":"19","hashOfConfig":"17"},{"size":6573,"mtime":1607028646947,"results":"20","hashOfConfig":"17"},{"size":100,"mtime":1601218093000,"results":"21","hashOfConfig":"17"},{"size":92,"mtime":1606837537310,"results":"22","hashOfConfig":"17"},{"size":1878,"mtime":1607032400084,"results":"23","hashOfConfig":"17"},{"size":3732,"mtime":1606950268838,"results":"24","hashOfConfig":"17"},{"size":2990,"mtime":1606837525486,"results":"25","hashOfConfig":"17"},{"size":4546,"mtime":1607018778684,"results":"26","hashOfConfig":"17"},{"size":832,"mtime":1607032283888,"results":"27","hashOfConfig":"17"},{"size":1795,"mtime":1607032285590,"results":"28","hashOfConfig":"17"},{"size":814,"mtime":1606870206159,"results":"29","hashOfConfig":"17"},{"size":828,"mtime":1604493737284,"results":"30","hashOfConfig":"17"},{"size":385,"mtime":1606947981300,"results":"31","hashOfConfig":"17"},{"filePath":"32","messages":"33","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},"1ecb3n0",{"filePath":"35","messages":"36","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"37","messages":"38","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"39","messages":"40","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":1,"source":null},{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"45","messages":"46","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"47","messages":"48","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"49","usedDeprecatedRules":"34"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"52","usedDeprecatedRules":"34"},{"filePath":"53","messages":"54","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"57","messages":"58","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"59","messages":"60","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"61","messages":"62","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"63","usedDeprecatedRules":"34"},{"filePath":"64","messages":"65","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},"C:\\Users\\Razvan\\Desktop\\Facultate\\Anul_3\\Mobile\\ionic_RentalApp\\src\\index.tsx",[],["66","67"],"C:\\Users\\Razvan\\Desktop\\Facultate\\Anul_3\\Mobile\\ionic_RentalApp\\src\\serviceWorker.ts",[],"C:\\Users\\Razvan\\Desktop\\Facultate\\Anul_3\\Mobile\\ionic_RentalApp\\src\\App.tsx",[],"C:\\Users\\Razvan\\Desktop\\Facultate\\Anul_3\\Mobile\\ionic_RentalApp\\src\\todo\\ItemProvider.tsx",["68","69"],"C:\\Users\\Razvan\\Desktop\\Facultate\\Anul_3\\Mobile\\ionic_RentalApp\\src\\todo\\index.tsx",[],"C:\\Users\\Razvan\\Desktop\\Facultate\\Anul_3\\Mobile\\ionic_RentalApp\\src\\auth\\index.tsx",[],"C:\\Users\\Razvan\\Desktop\\Facultate\\Anul_3\\Mobile\\ionic_RentalApp\\src\\todo\\itemApi.tsx",["70"],"C:\\Users\\Razvan\\Desktop\\Facultate\\Anul_3\\Mobile\\ionic_RentalApp\\src\\auth\\AuthProvider.tsx",["71","72","73","74"],"import React, { useCallback, useEffect, useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { getLogger } from '../core';\r\nimport { login as loginApi } from './AuthApi';\r\nimport { Plugins } from '@capacitor/core';\r\n\r\nconst log = getLogger('AuthProvider');\r\n\r\ntype LoginFn = (username?: string, password?: string) => void;\r\ntype LogoutFn = () => void;\r\n\r\nconst { Storage } = Plugins;\r\n\r\nexport interface AuthState {\r\n  authenticationError: Error | null;\r\n  isAuthenticated: boolean;\r\n  isAuthenticating: boolean;\r\n  login?: LoginFn;\r\n  logout?: LogoutFn;\r\n  pendingAuthentication?: boolean;\r\n  username?: string;\r\n  password?: string;\r\n  token: string;\r\n}\r\n\r\nconst initialState: AuthState = {\r\n  isAuthenticated: false,\r\n  isAuthenticating: false,\r\n  authenticationError: null,\r\n  pendingAuthentication: false,\r\n  token: '',\r\n};\r\n\r\nexport const AuthContext = React.createContext<AuthState>(initialState);\r\n\r\ninterface AuthProviderProps {\r\n  children: PropTypes.ReactNodeLike,\r\n}\r\n\r\nexport const AuthProvider: React.FC<AuthProviderProps> = ({ children }) => {\r\n  const [state, setState] = useState<AuthState>(initialState);\r\n  const { isAuthenticated, isAuthenticating, authenticationError, pendingAuthentication, token } = state;\r\n  const login = useCallback<LoginFn>(loginCallback, []);\r\n  const logout = useCallback<LogoutFn>(logoutCallBack, []);\r\n  useEffect(authenticationEffect, [pendingAuthentication]);\r\n  const value = { isAuthenticated, login, logout, isAuthenticating, authenticationError, token };\r\n  log('render');\r\n  return (\r\n    <AuthContext.Provider value={value}>\r\n      {children}\r\n    </AuthContext.Provider>\r\n  );\r\n\r\n  function loginCallback(username?: string, password?: string): void {\r\n    log('login');\r\n    setState({\r\n      ...state,\r\n      pendingAuthentication: true,\r\n      username,\r\n      password\r\n    });\r\n  }\r\n\r\n  function logoutCallBack(): void {\r\n    log(\"logout\");\r\n    setState({\r\n      ...state,\r\n      isAuthenticated: false,\r\n      token:\"\",\r\n\r\n    });\r\n    (async () =>{\r\n      await Storage.remove({key: \"token\"});\r\n    })();\r\n  }\r\n\r\n  function authenticationEffect() {\r\n    let canceled = false;\r\n    authenticate();\r\n    return () => {\r\n      canceled = true;\r\n    }\r\n\r\n    async function authenticate() {\r\n\r\n      var tokenStorage = await Storage.get({key: \"token\"});\r\n      console.log(\"user token \" + tokenStorage.value);\r\n      if (tokenStorage.value) {\r\n        setState({\r\n            ...state,\r\n            token: tokenStorage.value,\r\n            pendingAuthentication: false,\r\n            isAuthenticated: true,\r\n            isAuthenticating: false,\r\n        });\r\n      }\r\n\r\n      if (!pendingAuthentication) {\r\n        log('authenticate, !pendingAuthentication, return');\r\n        return;\r\n      }\r\n      try {\r\n        log('authenticate...');\r\n        setState({\r\n          ...state,\r\n          isAuthenticating: true,\r\n        });\r\n        const { username, password } = state;\r\n        const { token } = await loginApi(username, password);\r\n        console.log(token);\r\n\r\n        if (canceled) {\r\n          return;\r\n        }\r\n        log('authenticate succeeded');\r\n\r\n        await Storage.set({\r\n          key: 'token',\r\n          value: token \r\n        });\r\n\r\n        setState({\r\n          ...state,\r\n          token,\r\n          pendingAuthentication: false,\r\n          isAuthenticated: true,\r\n          isAuthenticating: false,\r\n        });\r\n      } catch (error) {\r\n        if (canceled) {\r\n          return;\r\n        }\r\n        log('authenticate failed');\r\n        setState({\r\n          ...state,\r\n          authenticationError: error,\r\n          pendingAuthentication: false,\r\n          isAuthenticating: false,\r\n        });\r\n      }\r\n    }\r\n  }\r\n};\r\n","C:\\Users\\Razvan\\Desktop\\Facultate\\Anul_3\\Mobile\\ionic_RentalApp\\src\\todo\\ItemEdit.tsx",["75"],"import React, { useContext, useEffect, useState } from 'react';\nimport {\n  IonButton,\n  IonButtons,\n  IonContent,\n  IonHeader,\n  IonInput,\n  IonLoading,\n  IonPage,\n  IonTitle,\n  IonToolbar,\n  IonLabel,\n  IonFab,\n  IonFabButton,\n  IonIcon\n} from '@ionic/react';\nimport { getLogger } from '../core';\nimport { ItemContext } from './ItemProvider';\nimport { RouteComponentProps } from 'react-router';\nimport { ItemProps } from './ItemProps';\nimport { trashBin } from 'ionicons/icons';\n\nconst log = getLogger('ItemEdit');\n\ninterface ItemEditProps extends RouteComponentProps<{\n  id?: string;\n}> {}\n\nconst ItemEdit: React.FC<ItemEditProps> = ({ history, match }) => {\n  const { items, saving, deleting, savingError, saveItem, deleteItem } = useContext(ItemContext);\n  const [description, setDescription] = useState('');\n  const [price, setPrice] = useState('');\n  const [priceEstimation, setPriceEstimation] = useState('');\n  const [ownerUsername, setOwner] = useState('');\n  const [item, setItem] = useState<ItemProps>();\n  useEffect(() => {\n    log('useEffect');\n    const routeId = match.params.id || '';\n    const item = items?.find(it => it.id === routeId);\n    setItem(item);\n    if (item) {\n      setDescription(item.description);\n      setPrice(item.price);\n      setPriceEstimation(item.priceEstimation);\n      setOwner(item.ownerUsername);\n    }\n  }, [match.params.id, items]);\n  const handleSave = () => {\n    const editedItem = item ? { ...item, description, price, priceEstimation, ownerUsername } : { description, price, priceEstimation, ownerUsername };\n    saveItem && saveItem(editedItem).then(() => history.goBack());\n  };\n  const handleDelete = () => {\n    deleteItem && deleteItem(item?.id).then(() => history.goBack());\n  }\n  log('render');\n  return (\n    <IonPage>\n      <IonHeader>\n        <IonToolbar>\n          <IonTitle>Edit</IonTitle>\n          <IonButtons slot=\"end\">\n            <IonButton onClick={handleSave}>\n              Save\n            </IonButton>\n          </IonButtons>\n        </IonToolbar>\n      </IonHeader>\n      <IonContent>\n          <IonLabel>Description: </IonLabel><IonInput value={description} onIonChange={e => setDescription(e.detail.value || '')} />\n          <IonLabel>Price: </IonLabel><IonInput value={price} onIonChange={e => setPrice(e.detail.value || '')} />\n          <IonLabel>Estimated Price: </IonLabel><IonInput value={priceEstimation} onIonChange={e => setPriceEstimation(e.detail.value || '')} />\n          <IonLabel>Owner: </IonLabel><IonInput value={ownerUsername} onIonChange={e => setOwner(e.detail.value || '')} />\n        <IonLoading isOpen={saving} />\n        {savingError && (\n          <div>{savingError.message || 'Failed to save item'}</div>\n        )}\n\n        <IonFab vertical=\"bottom\" horizontal=\"end\" slot=\"fixed\">\n          <IonFabButton onClick={handleDelete}>\n            <IonIcon icon={trashBin} />\n          </IonFabButton>\n        </IonFab>\n\n      </IonContent>\n    </IonPage>\n  );\n};\n\nexport default ItemEdit;\n","C:\\Users\\Razvan\\Desktop\\Facultate\\Anul_3\\Mobile\\ionic_RentalApp\\src\\todo\\ItemList.tsx",["76","77","78"],"C:\\Users\\Razvan\\Desktop\\Facultate\\Anul_3\\Mobile\\ionic_RentalApp\\src\\auth\\PrivateRoute.tsx",[],"C:\\Users\\Razvan\\Desktop\\Facultate\\Anul_3\\Mobile\\ionic_RentalApp\\src\\auth\\Login.tsx",[],"C:\\Users\\Razvan\\Desktop\\Facultate\\Anul_3\\Mobile\\ionic_RentalApp\\src\\core\\index.tsx",[],"C:\\Users\\Razvan\\Desktop\\Facultate\\Anul_3\\Mobile\\ionic_RentalApp\\src\\todo\\Item.tsx",["79"],"import React from 'react';\nimport { IonItem, IonLabel, IonCard, IonCardTitle, IonCardSubtitle, IonCardHeader, IonCardContent, IonBadge } from '@ionic/react';\nimport { ItemProps } from './ItemProps';\n\ninterface ItemPropsExt extends ItemProps {\n  onEdit: (id?: string) => void;\n}\n\nconst Item: React.FC<ItemPropsExt> = ({ id, description, price, priceEstimation, ownerUsername, onEdit }) => {\n  return (\n    <IonItem onClick={() => onEdit(id)}>\n      <IonCard>\n        <IonCardHeader>\n          <IonCardTitle>Price: {price}   <IonBadge> Owner: {ownerUsername} </IonBadge> </IonCardTitle>\n          <IonCardSubtitle>Estimated Price: {priceEstimation} </IonCardSubtitle>\n        </IonCardHeader>\n        <IonCardContent>\n          {description}\n        </IonCardContent>\n      </IonCard>\n    </IonItem>\n  );\n};\n\nexport default Item;\n","C:\\Users\\Razvan\\Desktop\\Facultate\\Anul_3\\Mobile\\ionic_RentalApp\\src\\auth\\AuthApi.tsx",[],{"ruleId":"80","replacedBy":"81"},{"ruleId":"82","replacedBy":"83"},{"ruleId":"84","severity":1,"message":"85","line":149,"column":24,"nodeType":"86","messageId":"87","endLine":149,"endColumn":35,"fix":"88"},{"ruleId":"89","severity":1,"message":"90","line":183,"column":13,"nodeType":"91","messageId":"92","endLine":183,"endColumn":24},{"ruleId":"89","severity":1,"message":"93","line":2,"column":10,"nodeType":"91","messageId":"92","endLine":2,"endColumn":19},{"ruleId":"89","severity":1,"message":"94","line":6,"column":10,"nodeType":"91","messageId":"92","endLine":6,"endColumn":14},{"ruleId":"95","severity":1,"message":"96","line":44,"column":53,"nodeType":"97","endLine":44,"endColumn":55,"suggestions":"98"},{"ruleId":"95","severity":1,"message":"96","line":45,"column":56,"nodeType":"97","endLine":45,"endColumn":58,"suggestions":"99"},{"ruleId":"95","severity":1,"message":"100","line":46,"column":35,"nodeType":"97","endLine":46,"endColumn":58,"suggestions":"101"},{"ruleId":"89","severity":1,"message":"102","line":30,"column":26,"nodeType":"91","messageId":"92","endLine":30,"endColumn":34},{"ruleId":"95","severity":1,"message":"103","line":70,"column":8,"nodeType":"97","endLine":70,"endColumn":15,"suggestions":"104"},{"ruleId":"95","severity":1,"message":"105","line":86,"column":8,"nodeType":"97","endLine":86,"endColumn":16,"suggestions":"106"},{"ruleId":"95","severity":1,"message":"105","line":97,"column":7,"nodeType":"97","endLine":97,"endColumn":19,"suggestions":"107"},{"ruleId":"89","severity":1,"message":"108","line":2,"column":19,"nodeType":"91","messageId":"92","endLine":2,"endColumn":27},"no-native-reassign",["109"],"no-negated-in-lhs",["110"],"@typescript-eslint/no-array-constructor","The array literal notation [] is preferable.","NewExpression","useLiteral",{"range":"111","text":"112"},"@typescript-eslint/no-unused-vars","'deletedItem' is assigned a value but never used.","Identifier","unusedVar","'logoYahoo' is defined but never used.","'fork' is defined but never used.","react-hooks/exhaustive-deps","React Hook useCallback has a missing dependency: 'state'. Either include it or remove the dependency array. You can also do a functional update 'setState(s => ...)' if you only need 'state' in the 'setState' call.","ArrayExpression",["113"],["114"],"React Hook useEffect has a missing dependency: 'state'. Either include it or remove the dependency array. You can also do a functional update 'setState(s => ...)' if you only need 'state' in the 'setState' call.",["115"],"'deleting' is assigned a value but never used.","React Hook useEffect has a missing dependency: 'pos'. Either include it or remove the dependency array. You can also replace multiple useState variables with useReducer if 'setApartmentsShow' needs the current value of 'pos'.",["116"],"React Hook useEffect has a missing dependency: 'items'. Either include it or remove the dependency array.",["117"],["118"],"'IonLabel' is defined but never used.","no-global-assign","no-unsafe-negation",[4801,4812],"[]",{"desc":"119","fix":"120"},{"desc":"119","fix":"121"},{"desc":"122","fix":"123"},{"desc":"124","fix":"125"},{"desc":"126","fix":"127"},{"desc":"128","fix":"129"},"Update the dependencies array to be: [state]",{"range":"130","text":"131"},{"range":"132","text":"131"},"Update the dependencies array to be: [pendingAuthentication, state]",{"range":"133","text":"134"},"Update the dependencies array to be: [items, pos]",{"range":"135","text":"136"},"Update the dependencies array to be: [filter, items]",{"range":"137","text":"138"},"Update the dependencies array to be: [items, searchText]",{"range":"139","text":"140"},[1333,1335],"[state]",[1394,1396],[1434,1457],"[pendingAuthentication, state]",[1908,1915],"[items, pos]",[2355,2363],"[filter, items]",[2618,2630],"[items, searchText]"]